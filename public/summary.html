<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Attendance Summary</title>
  <link rel="stylesheet" href="styles.css" />

  <!-- ✅ Use ONLY compat SDKs (no modular imports needed) -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>

  <script>
    // ✅ Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyBvtPqW95v4ZzpkGZiQFczg55jlGN-ZGNQ",
      authDomain: "student-tracker-9c478.firebaseapp.com",
      projectId: "student-tracker-9c478",
      storageBucket: "student-tracker-9c478.firebasestorage.app",
      messagingSenderId: "138881222420",
      appId: "1:138881222420:web:6726b17d19661761c5e401",
      measurementId: "G-SPE6T1XYMJ"
    };

    // ✅ Initialize Firebase
    firebase.initializeApp(firebaseConfig);

    // ✅ Initialize Firestore and Auth services
    const db = firebase.firestore();
    const auth = firebase.auth();
  </script>
</head>

<body>
  <header class="app-header">
    <h1 class="app-title">TRACE</h1>
    <p class="app-subtitle">Tracking Attendance and Communicating Efficiently</p>
  </header>
  
  <h2>Attendance Summary</h2>
  
  <button id="seeSummaryBtn">See Summary</button>

  <!-- These containers must exist for year and month buttons -->
  <div id="yearList"></div>
  <div id="monthList"></div>

  <div id="legend">
    <h3>Legend</h3>
    <p><span style="background-color: #d4edda;">P</span> - Present</p>
    <p><span style="background-color: #f8d7da;">A</span> - Absent</p>
    <p><span style="background-color: #fff3cd;">C</span> - Cutting Classes</p>
  </div>
  
  <table id="summaryTable" border="1" style="display: none;">
    <thead>
      <tr id="dateRow"></tr>
      <tr id="hourRow"></tr>
    </thead>
    <tbody></tbody>
  </table>
<button id="downloadSummaryBtn" style="display:none; margin-top:10px;">Download Summary (Excel)</button>

  <p><strong>Hour Labels:</strong> 1 = 7:30-8:30, 2 = 8:30-9:30, 3 = 9:50-10:50, 4 = 10:50-11:50, 5 = 1:00-2:00, 6 = 2:00-3:00, 7 = 3:00-4:00, 8 = 4:00-5:00</p>

  <!-- Firebase SDK -->
 
  <script src="summary.js"></script>
</body>

</html>
